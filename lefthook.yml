pre-commit:
    parallel: true
    commands:
        commitlint:
            run: make install-commitlint && NODE_PATH="./bin/node/lib/node_modules:$NODE_PATH" ./bin/node/bin/commitlint --from HEAD~1 --to HEAD
        lint:
            glob: '*.go'
            run: echo {staged_files} > /dev/null && make lint
        test:
            glob: '*.go'
            run: echo {staged_files} > /dev/null && make test
post-commit:
    commands:
        doc:
            run: LEFTHOOK=0 make doc-amend # Need that env to prevent recursive call
